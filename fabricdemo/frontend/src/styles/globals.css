@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  color-scheme: light;

  /* Brand */
  --color-brand: #117865;
  --color-brand-hover: #0E6658;
  --color-brand-light: #1A9C85;
  --color-brand-subtle: rgba(17, 120, 101, 0.08);

  /* Backgrounds */
  --color-bg-1: #FFFFFF;
  --color-bg-2: #FAF9F8;
  --color-bg-3: #F3F2F1;
  --color-bg-4: #EDEBE9;
  --color-bg-5: #E1DFDD;
  --color-bg-6: #D2D0CE;

  /* Text */
  --color-text-primary: #242424;
  --color-text-secondary: #616161;
  --color-text-muted: #A19F9D;
  --color-text-tertiary: #C8C6C4;

  /* Borders */
  --color-border-subtle: #F0F0F0;
  --color-border-default: #E0E0E0;
  --color-border-strong: #D1D1D1;

  /* Status */
  --color-success: #107C10;
  --color-warning: #F7630C;
  --color-error: #A4262C;
  --color-info: #0078D4;

  /* Transitions */
  --transition-fast: 150ms ease;
  --transition-normal: 200ms ease;
}

/* ── Dark theme ─────────────────────────────────────────────────── */
.dark {
  color-scheme: dark;

  /* Brand — slightly brighter for contrast on dark bg */
  --color-brand: #1A9C85;
  --color-brand-hover: #21B89B;
  --color-brand-light: #2BD4B3;
  --color-brand-subtle: rgba(26, 156, 133, 0.12);

  /* Backgrounds — dark greys */
  --color-bg-1: #1B1B1B;
  --color-bg-2: #252525;
  --color-bg-3: #2E2E2E;
  --color-bg-4: #383838;
  --color-bg-5: #444444;
  --color-bg-6: #525252;

  /* Text — light on dark */
  --color-text-primary: #F0F0F0;
  --color-text-secondary: #B0B0B0;
  --color-text-muted: #787878;
  --color-text-tertiary: #5A5A5A;

  /* Borders */
  --color-border-subtle: #333333;
  --color-border-default: #3D3D3D;
  --color-border-strong: #4A4A4A;

  /* Status — slightly brighter for dark bg readability */
  --color-success: #36B136;
  --color-warning: #FF8C42;
  --color-error: #E05C63;
  --color-info: #4EA8DF;
}

body {
  @apply bg-neutral-bg1 text-text-primary font-sans antialiased;
  min-height: 100vh;
}

/* Focus styles */
*:focus-visible {
  @apply outline-none ring-2 ring-brand ring-offset-2;
  --tw-ring-offset-color: var(--color-bg-1);
}

/* Scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
::-webkit-scrollbar-track {
  @apply bg-neutral-bg2;
}
::-webkit-scrollbar-thumb {
  @apply bg-neutral-bg5 rounded-full;
}
::-webkit-scrollbar-thumb:hover {
  @apply bg-neutral-bg6;
}

/* Fabric card utility classes */
@layer components {
  .glass-card {
    @apply bg-neutral-bg1 border border-border rounded-xl shadow-sm;
  }

  .glass-panel {
    @apply bg-neutral-bg2 border border-border;
  }

  .glass-overlay {
    @apply bg-black/40 backdrop-blur-sm;
  }

  .glass-input {
    @apply bg-neutral-bg1 border border-border focus:border-brand;
  }
}

/* ── Resize handle base ───────────────────────────────────────────── */
.resize-handle {
  position: relative;
  flex-shrink: 0;
  transition: background-color 150ms ease;
  z-index: 10;
}

.resize-handle::after {
  content: '';
  position: absolute;
  border-radius: 2px;
  background: var(--color-border-default);
  transition: background-color 150ms ease, box-shadow 150ms ease;
}

.resize-handle:hover {
  background: var(--color-brand-subtle);
}

.resize-handle:hover::after {
  background: var(--color-border-strong);
  box-shadow: 0 0 6px rgba(17, 120, 101, 0.15);
}

.resize-handle[data-resize-handle-active]::after {
  background: rgba(17, 120, 101, 0.6);
  box-shadow: 0 0 8px rgba(17, 120, 101, 0.3);
}

/* ── Vertical (drag up/down) ──────────────────────────────────────── */
.resize-handle-vertical {
  height: 8px;
  cursor: row-resize;
}

.resize-handle-vertical::after {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 32px;
  height: 3px;
}

/* ── Horizontal (drag left/right) ─────────────────────────────────── */
.resize-handle-horizontal {
  width: 8px;
  cursor: col-resize;
}

.resize-handle-horizontal::after {
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 3px;
  height: 32px;
}

/* Animation utilities */
@layer utilities {
  .animate-in {
    animation: fadeIn 0.3s ease-out, slideUp 0.3s ease-out;
  }
}

@keyframes fadeIn {
  0% { opacity: 0; }
  100% { opacity: 1; }
}

@keyframes slideUp {
  0% { opacity: 0; transform: translateY(10px); }
  100% { opacity: 1; transform: translateY(0); }
}
