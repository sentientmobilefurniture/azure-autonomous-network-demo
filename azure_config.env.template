# ============================================================================
# Autonomous Network NOC Demo — Configuration Template
# ============================================================================
# Copy this file to azure_config.env and fill in the values.
# This is the SINGLE source of truth for all project configuration.
# Edit azure_config.env, then run 'azd up' — preprovision.sh syncs to Bicep.
# Most values are auto-populated by postprovision.sh after each deployment.
# ============================================================================

# --- Core Azure settings (AUTO: populated by postprovision) ---
AZURE_SUBSCRIPTION_ID=
AZURE_RESOURCE_GROUP=
AZURE_LOCATION=swedencentral

# --- AI Foundry (AUTO: populated by postprovision) ---
AI_FOUNDRY_NAME=
AI_FOUNDRY_ENDPOINT=
AI_FOUNDRY_PROJECT_NAME=
PROJECT_ENDPOINT=

# --- Model deployments (USER: must match infra/modules/ai-foundry.bicep) ---
MODEL_DEPLOYMENT_NAME=gpt-4.1
EMBEDDING_MODEL=text-embedding-3-small
EMBEDDING_DIMENSIONS=1536
GPT_CAPACITY_1K_TPM=300

# --- Azure AI Search (AUTO: populated by postprovision) ---
AI_SEARCH_NAME=
# USER: search index names used by indexer scripts and MCP server
RUNBOOKS_INDEX_NAME=runbooks-index
TICKETS_INDEX_NAME=tickets-index

# --- Azure Storage (AUTO: populated by postprovision) ---
STORAGE_ACCOUNT_NAME=
# USER: blob container names (must match infra/modules/storage.bicep)
RUNBOOKS_CONTAINER_NAME=runbooks
TICKETS_CONTAINER_NAME=tickets

# --- Fabric API (defaults are correct for public Azure — only change for sovereign clouds) ---
FABRIC_API_URL=https://api.fabric.microsoft.com/v1
FABRIC_SCOPE=https://api.fabric.microsoft.com/.default

# --- App / CORS (USER: change for production deployment) ---
CORS_ORIGINS=http://localhost:5173

# --- Graph Backend (USER: set before provisioning agents) ---
# Controls which graph database backend is used by graph-query-api
# and which query language the GraphExplorer agent uses.
# Options: "fabric" (default, GQL → Fabric GraphModel)
#          "cosmosdb" (Gremlin → Azure Cosmos DB)
#          "mock" (static responses, no external dependency)
GRAPH_BACKEND=cosmosdb

# --- Fabric deployment settings (USER: edit before 'azd up') ---
FABRIC_SKU=F8
AZURE_FABRIC_ADMIN=

# --- Fabric resource names (USER: set before running provision_lakehouse.py) ---
FABRIC_WORKSPACE_NAME=AutonomousNetworkDemo
FABRIC_LAKEHOUSE_NAME=NetworkTopologyLH
FABRIC_EVENTHOUSE_NAME=NetworkTelemetryEH_3117
FABRIC_KQL_DB_DEFAULT=NetworkDB
FABRIC_ONTOLOGY_NAME=NetworkTopologyOntology

# --- Fabric IDs (AUTO: populated by provision scripts) ---
EVENTHOUSE_QUERY_URI=
FABRIC_CAPACITY_ID=
FABRIC_WORKSPACE_ID=
FABRIC_LAKEHOUSE_ID=
FABRIC_EVENTHOUSE_ID=
FABRIC_KQL_DB_ID=
FABRIC_KQL_DB_NAME=
FABRIC_ONTOLOGY_ID=
FABRIC_GRAPH_MODEL_ID=

# --- Fabric Data Agent (AUTO: populated by collect_fabric_agents.py) ---
FABRIC_DATA_AGENT_ID=
FABRIC_DATA_AGENT_API_VERSION=2024-05-01-preview
GRAPH_DATA_AGENT_ID=
TELEMETRY_DATA_AGENT_ID=

# --- Fabric Connections in Foundry (USER: set after creating in AI Foundry portal) ---
GRAPH_FABRIC_CONNECTION_NAME=
TELEMETRY_FABRIC_CONNECTION_NAME=

# --- graph-query-api (AUTO: populated by postprovision / azd outputs) ---
GRAPH_QUERY_API_URI=
GRAPH_QUERY_API_PRINCIPAL_ID=

# --- Cosmos DB Gremlin (required when GRAPH_BACKEND=cosmosdb) ---
COSMOS_GREMLIN_ENDPOINT=
COSMOS_GREMLIN_PRIMARY_KEY=
COSMOS_GREMLIN_DATABASE=networkgraph
COSMOS_GREMLIN_GRAPH=topology
